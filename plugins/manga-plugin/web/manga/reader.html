<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reader ‚Äî Rohan</title>
    <meta name="description" content="Immersive manga reading experience">
    <link rel="icon" type="image/x-icon" href="/manga/favicon.ico">
    <link rel="stylesheet" href="/manga/css/manga.css">
    <style>
        /* Reader-only overrides */
        body {
            background: #000;
            overflow: hidden;
        }

        body::before {
            display: none;
        }
    </style>
</head>

<body>

    <!-- Reader Container -->
    <div class="reader-container" id="reader-container">

        <!-- Sidebar (Chapter List) -->
        <aside class="reader-sidebar" id="reader-sidebar">
            <div class="reader-sidebar-header">
                <h3 id="reader-manga-title">Loading...</h3>
                <div class="current-chapter" id="reader-current-chapter"></div>
                <div style="margin-top:0.5rem;display:flex;gap:0.5rem;">
                    <a href="/manga" class="btn btn-secondary btn-sm">‚Üê Library</a>
                    <button class="btn btn-secondary btn-sm" onclick="toggleSidebar()">Hide</button>
                </div>
            </div>
            <ul class="chapter-list" id="reader-chapter-list"></ul>
        </aside>

        <!-- Reader Content Area -->
        <div class="reader-content vertical-mode" id="reader-content">

            <!-- Top tap zone for showing controls -->
            <div id="tap-zone-top" style="position:fixed;top:0;left:0;right:0;height:60px;z-index:55;cursor:pointer;">
            </div>

            <!-- Page Container -->
            <div class="page-container" id="page-container">
                <!-- Pages loaded dynamically -->
                <div class="loading-spinner" id="reader-loading">
                    <div class="spinner"></div>
                    <span>Loading chapter...</span>
                </div>
            </div>

            <!-- Bottom tap zone -->
            <div id="tap-zone-bottom"
                style="position:fixed;bottom:0;left:0;right:0;height:60px;z-index:55;cursor:pointer;"></div>
        </div>
    </div>

    <!-- Reader Controls Bar -->
    <div class="reader-controls" id="reader-controls">
        <button class="btn btn-icon btn-secondary" id="btn-sidebar" onclick="toggleSidebar()"
            title="Toggle chapter list">üìë</button>
        <button class="btn btn-icon btn-secondary" id="btn-prev-ch" onclick="prevChapter()"
            title="Previous chapter">‚èÆ</button>
        <button class="btn btn-icon btn-secondary" id="btn-prev" onclick="prevPage()" title="Previous page">‚óÄ</button>

        <span class="page-counter" id="page-counter">0 / 0</span>

        <input type="range" class="page-slider" id="page-slider" min="1" max="1" value="1">

        <button class="btn btn-icon btn-secondary" id="btn-next" onclick="nextPage()" title="Next page">‚ñ∂</button>
        <button class="btn btn-icon btn-secondary" id="btn-next-ch" onclick="nextChapter()"
            title="Next chapter">‚è≠</button>

        <div class="reader-mode-toggle">
            <button id="mode-vertical" class="active" onclick="setMode('vertical')">Scroll</button>
            <button id="mode-page" onclick="setMode('page')">Page</button>
        </div>

        <button class="btn btn-icon btn-secondary" id="btn-fullscreen" onclick="toggleFullscreen()"
            title="Fullscreen">‚õ∂</button>
    </div>

    <!-- Toast Container -->
    <div class="toast-container" id="toast-container"></div>

    <script src="/manga/js/reader.js"></script>
</body>

</html>